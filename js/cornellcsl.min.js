(function(a){function d(b){b="undefined"===typeof b||"object"===typeof b?window.location.hash:b;b=b.replace(/:/g,"\\:");a(b).length&&(a("body").addClass("scrolling"),a("html, body").animate({scrollTop:a(b).offset().top-e},600,function(){a("body").removeClass("scrolling")}))}function h(){var b=a("body"),c=b.data("bs.scrollspy");c&&(c.options.offset=e,b.data("bs.scrollspy",c),b.scrollspy("refresh"))}function k(){var b=window.location.hash.replace("#",""),c="*";""==b||isNaN(b)||(c=".pubtype-"+b);a(".pub-filters-select").val(c);
f.isotope({filter:c})}var e=a(".navbar-header").innerHeight();window.addEventListener("hashchange",d);a("#navbar-main li.nav-item a").on("click",function(b){var c=this.hash;c&&a(c).length&&0<a("#homepage").length&&(b.preventDefault(),a("html, body").animate({scrollTop:a(c).offset().top-e},1500,"easeInOutExpo"))});a("#back_to_top").on("click",function(b){b.preventDefault();a("html, body").animate({scrollTop:0},800,function(){window.location.hash=""})});a(document).on("click",".navbar-collapse.in",
function(b){a(b.target).is("a")&&"dropdown-toggle"!=a(b.target).attr("class")&&a(this).collapse("hide")});var g=a("#container-projects");g.imagesLoaded(function(){g.isotope({itemSelector:".isotope-item",layoutMode:"masonry"});a("#filters a").click(function(){var b=a(this).attr("data-filter");g.isotope({filter:b});a(this).removeClass("active").addClass("active").siblings().removeClass("active all");return!1})});var f=a("#container-publications");f.isotope({itemSelector:".isotope-item",percentPosition:!0,
masonry:{columnWidth:".grid-sizer"}});a(".pub-filters-select").on("change",function(){f.isotope({filter:this.value});var b=a(this).val();".pubtype-"==b.substr(0,9)?window.location.hash=b.substr(9):window.location.hash=""});a(window).on("load",function(){window.location.hash&&("#top"==window.location.hash?window.location.hash="":d());a("body").scrollspy({offset:e});var b;a(window).resize(function(){clearTimeout(b);b=setTimeout(h,200)});a(".pub-filters-select")&&k()})})(jQuery);
$(window).scroll(function(){$(".navbar").offset().top>$("#top").outerHeight(!0)+50?$(".navbar").addClass("top-nav-collapse"):$(".navbar").removeClass("top-nav-collapse")});var affix_navbar=function(){$(".navbar").affix({offset:{top:function(){return this.top=$("header").outerHeight(!0)}}})};$(".nav-wrapper").height($("nav").height());$("nav a").on("click",function(){$(".navbar-ex1-collapse").removeClass("in");$(".navbar-ex1-collapse").attr("aria-expanded","false")});
$("#cu-search-toggle").on("click",function(){$(".cu-search-toggle").toggleClass("glyphicon-search glyphicon-remove")});var position_search=function(){var a=$("#cu-search-toggle").outerHeight(),d=$(".cu-csl-logo-div").outerHeight();a=(Math.max(a,d)-a)/2;$(".cu-search-toggle-div").height(d);$("#cu-search-toggle").css({top:a})};$(window).resize(function(){position_search();affix_navbar()});$(window).load(function(){position_search();affix_navbar()});